{{ $tags_suffix := "/tags" }}
{{ $pages := slice -}}
{{ $targetted_section := slice }}
{{ $is_tag_page := strings.HasSuffix .Section $tags_suffix }}
{{ if $is_tag_page }}
  {{ $targetted_section = replace .Section $tags_suffix "" }}
  {{ $pages = index (index $.Site.Taxonomies .Section) .Title }}
{{ else }}
  {{ $targetted_section = .Section }}
  {{ $pages = where $.Site.RegularPages "Section" $targetted_section }}
{{ end }}
{{ $has_random_button := $pages }}
{{ if $has_random_button }}
{{ $urls := slice }}
{{ range $pages }}
{{ $is_ramble := in (index .Params "blog/tags") "ramble" }}
{{ if not $is_ramble }}
{{ $urls = $urls | append .Permalink }}
{{ end }}
{{ end }}
<div class="container">
  <div class="row justify-content-center">
    <div class="col-auto">
      <a onclick="goToRandomUrl({{ $urls }})">
        <button class="menu-icon">
          ðŸŽ²
        </button>
      </a>
    </div>
  </div>
</div>
{{- end -}}
